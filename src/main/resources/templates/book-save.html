<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Book-detail</title>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">
<script type="text/javascript" th:src="@{/js/validation.js}"></script>
<link rel="stylesheet" href="/css/index.css">
</head>
<body>
	<div class="row container">
		<h1 class="container">Book Save</h1>
	</div>
	<!-- @{/book/save/{id}(id=${book.id})} -->
	<form enctype="multipart/form-data" th:action="@{/add-new-book}"
		method="POST" class="container col-4">

		<div class="row">
			<div class="col">
				Title :<input type="text" name="title"
					class="form-control container" required="required"><br />
				<div th:if="${invalid}" style="color: red">invalid title</div>
				<div class="valid-feedback">Valid.</div>
				<div class="invalid-feedback">Please fill out this field.</div>
			</div>
			<div class="col">
				Author : <input type="text" name="author" class="form-control"
					required="required"><br />
				<div class="valid-feedback">Valid.</div>
				<div class="invalid-feedback">Please fill out this field.</div>
			</div>
		</div>

		<label>Description : </label> <br />
		<textarea rows="5" cols="60" name="description"></textarea>
		<br />


		<div class="row">
			<div class="col">
				Release Date : <input type="date" name="releaseDate"
					class="form-control" required="required"><br />
				<div class="valid-feedback">Valid.</div>
				<div class="invalid-feedback">Please fill out this field.</div>
			</div>
			<div class="col">
				Number of Pages : <input type="number" name="numberOfPages"
					class="form-control" required="required"><br />
				<div class="valid-feedback">Valid.</div>
				<div class="invalid-feedback">Please fill out this field.</div>
			</div>
		</div>

		<div class="row">
			<div class="col">
				Type : <select th:field="${book.category}" name="category"
					id="category" disabled>
					<option value="Comic" selected>Comic</option>
					<option value="Novel">Novel</option>
					<option value="Adventure">Adventure</option>
				</select>
				<div class="col">
					Price : <input type="number" name="price" class="form-control"><br />
				</div>
			</div>

		</div>
		<br> <img style="max-width: 150px" id="imagePath"
			alt="image-book"> <input type="file" name="imageLink"
			onchange="loadFile(event)" accept="image/gif, image/jpeg, image/png"
			required="required">> <input type="submit" value="Save book"
			class="btn btn-success">
	</form>

</body>
</html>

<script>
	var loadFile = function(event) {
		var image = document.getElementById('imagePath');
		image.src = URL.createObjectURL(event.target.files[0]);
	};
</script>
